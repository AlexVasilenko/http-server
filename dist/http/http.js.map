{"version":3,"sources":["../../src/http/http.js"],"names":["HttpServer","constructor","props","server","createServer","on","socket","req","res","emit","error","listen","port"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,UAAN,0BAAqC;;AAEnCC,cAAYC,KAAZ,EAAmB;AACjB,UAAMA,KAAN;AACA,SAAKC,MAAL,GAAc,cAAIC,YAAJ,EAAd;;AAEA,SAAKD,MAAL,CAAYE,EAAZ,CAAe,YAAf,EAA6BC,UAAU;AACrC,YAAMC,MAAM,sBAAgBD,MAAhB,CAAZ;AACA,YAAME,MAAM,uBAAiBF,MAAjB,CAAZ;;AAEAC,UAAIF,EAAJ,CAAO,SAAP,EAAkB,MAAM;AACtB,aAAKI,IAAL,CAAU,SAAV,EAAqBF,GAArB,EAA0BC,GAA1B;AACD,OAFD;;AAIAF,aAAOD,EAAP,CAAU,OAAV,EAAoBK,KAAD,IAAW;AAC5B,aAAKD,IAAL,CAAU,OAAV,EAAmBC,KAAnB;AACD,OAFD;AAGD,KAXD;AAYD;;AAED,SAAON,YAAP,GAAsB;AACpB,WAAO,IAAIJ,UAAJ,EAAP;AACD;;AAEDW,SAAOC,IAAP,EAAa;AACX,SAAKT,MAAL,CAAYQ,MAAZ,CAAmBC,IAAnB;AACD;AA1BkC;;kBA6BtBZ,U","file":"http.js","sourcesContent":["import EventEmiter from 'events';\nimport net from 'net';\nimport HttpRequest from './request';\nimport HttpResponse from './response';\n\nclass HttpServer extends EventEmiter {\n\n  constructor(props) {\n    super(props);\n    this.server = net.createServer();\n\n    this.server.on('connection', socket => {\n      const req = new HttpRequest(socket);\n      const res = new HttpResponse(socket);\n\n      req.on('headers', () => {\n        this.emit('request', req, res);\n      })\n\n      socket.on('error', (error) => {\n        this.emit('error', error);\n      })\n    });\n  }\n\n  static createServer() {\n    return new HttpServer();\n  }\n\n  listen(port) {\n    this.server.listen(port);\n  }\n}\n\nexport default HttpServer;\n"]}